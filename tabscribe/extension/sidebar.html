<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="origin-trial" content="A2mU5q2/SPqO5PrFQiRbvyNUyV/XOitnQwR7mxULhqclPbr7jTuY5TfWdRfJeYA/by578GfcomV4Nq4dTvrWgAcAAACAeyJvcmlnaW4iOiJjaHJvbWUtZXh0ZW5zaW9uOi8vbWZwY2Vmam1wbHBib2xva2hrZm1ta2Rlb2tpZ2Rrbm0iLCJmZWF0dXJlIjoiQUlXcml0ZXJBUEkiLCJleHBpcnkiOjE3Njk0NzIwMDAsImlzVGhpcmRQYXJ0eSI6dHJ1ZX0=">
	<meta http-equiv="origin-trial" content="AyQfvdqzlnXgmP6xmVsJ/OYXZmYWCbM/Cw+ccia5SGtvEfkSnAKTef54GNV6OAfjK3GA0d6E6C1DgzP30kSqkQgAAACCeyJvcmlnaW4iOiJjaHJvbWUtZXh0ZW5zaW9uOi8vbWZwY2Vmam1wbHBib2xva2hrZm1ta2Rlb2tpZ2Rrbm0iLCJmZWF0dXJlIjoiQUlSZXdyaXRlckFQSSIsImV4cGlyeSI6MTc2OTQ3MjAwMCwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ==">
	<title>TabScribe</title>
	<link rel="stylesheet" href="styles.css">
</head>
<body>
	<header class="topbar">
		<div class="brand-row">
			<div class="brand">
				<img src="icons/icon.svg" alt="" class="icon"/>
				<span>TabScribe</span>
			</div>
			<div class="mode-pill"><span id="mode-label">Offline</span></div>
		</div>
		<div class="controls">
			<select id="project-select"></select>
			<button id="btn-new-project">New</button>
			<button id="btn-sample">Sample Project</button>
			<button id="btn-judge">Judge Mode</button>
			<button id="btn-audio">Record Note</button>
		</div>
	</header>
	<main>
		<div class="row-controls">
			<div class="search-container">
				<input id="search" placeholder="Search (title, host, tags, text)‚Ä¶"/>
			</div>
			<div class="action-buttons">
				<button id="btn-trash">Trash</button>
				<button id="btn-purge">Purge Now</button>
				<button id="btn-open-all">Open All Sources</button>
			</div>
		</div>
		<section id="hybrid-banner" class="onboarding" style="display:none;">
			<b>Hybrid mode needs a Gemini API key.</b> Set it in Options ‚Üí API Key.
			<button id="open-options" style="float:right">Open Options</button>
		</section>
		<section id="onboarding" class="onboarding" style="display:none;">
			<b>Welcome!</b> 1) Select text and press <b>Alt+S</b>. 2) Open this side panel. 3) Click <b>Draft Report</b>.
			<button id="dismiss-onboarding" style="float:right">Dismiss</button>
		</section>
		<section id="dropzone" class="dropzone" style="display:none;">
			Drop an image to explain it in 2 bullets‚Ä¶
		</section>
		<div class="cards-scroll">
			<section id="cards" class="cards"></section>
		</div>
	</main>
	<footer class="bottombar">
		<button id="btn-draft">Draft Report</button>
		<div class="exports">
			<button id="btn-export-md">Export .md</button>
			<button id="btn-export-docx">Export .docx</button>
			<button id="btn-copy-all">Copy All</button>
		</div>
	</footer>
	<div class="modal-backdrop" id="draft-modal">
		<div class="modal">
			<h2>Draft Report</h2>
			<div class="row">
				<label for="cite-style">Citations:</label>
				<select id="cite-style">
					<option value="APA">APA</option>
					<option value="MLA">MLA</option>
					<option value="Harvard">Harvard</option>
					<option value="BibTeX">BibTeX</option>
				</select>
				<button id="btn-generate-draft">Generate</button>
				<button id="btn-close-draft">Close</button>
			</div>
			<textarea id="draft-output" placeholder="Draft will appear here..."></textarea>
			<div class="row">
				<button id="btn-copy-draft">Copy</button>
				<button id="btn-export-draft-md">Export .md</button>
			</div>
		</div>
	 </div>
	<div class="modal-backdrop" id="similar-modal">
		<div class="modal" style="max-height:95vh; overflow-y:auto;">
			<h2>Literature Lens</h2>
			<div class="row" id="lens-filters">
				<button data-lens-tab="refs">References</button>
				<button data-lens-tab="cited">Cited By</button>
				<button data-lens-tab="similar" class="active">Similar</button>
				<span style="flex:1"></span>
				<label><input type="checkbox" id="filter-oa"/> Open Access</label>
				<label><input type="checkbox" id="filter-recent"/> Last 5y</label>
				<button id="refresh-lens">Refresh</button>
			</div>
			<div id="lens-graph" style="height:250px; margin:6px 0; border:1px solid #2a3142; border-radius:8px; position:relative; overflow:hidden;">
				<div id="graph-controls" style="position:absolute; top:4px; right:4px; z-index:10;">
					<button id="graph-maximize" style="background:#374151; border:none; color:#fff; padding:4px 8px; border-radius:4px; font-size:12px; cursor:pointer;">‚õ∂</button>
					<button id="graph-reset" style="background:#374151; border:none; color:#fff; padding:4px 8px; border-radius:4px; font-size:12px; cursor:pointer; margin-left:4px;">‚åÇ</button>
					<button id="graph-toggle-labels" style="background:#374151; border:none; color:#fff; padding:4px 8px; border-radius:4px; font-size:12px; cursor:pointer; margin-left:4px;">üè∑Ô∏è</button>
				</div>
				<div id="graph-info" style="position:absolute; top:4px; left:4px; z-index:10; background:rgba(0,0,0,0.7); padding:4px 8px; border-radius:4px; font-size:10px; color:#fff;">
					<span id="graph-stats">Loading...</span>
				</div>
			</div>
			<div id="lens-content" style="display:flex; flex-direction:column; height:300px; min-height:200px;">
				<div id="lens-list" style="flex:1; overflow-y:auto; padding-right:8px;">Searching‚Ä¶</div>
				<div class="row" id="lens-pagination" style="display:none; margin-top:8px; flex-shrink:0;">
					<button id="lens-prev" disabled>‚Üê Prev</button>
					<span id="lens-page-info">Page 1 of 1</span>
					<button id="lens-next" disabled>Next ‚Üí</button>
				</div>
			</div>
			<div class="row" style="margin-top:8px;">
				<button id="close-similar">Close</button>
			</div>
		</div>
	</div>
	<script type="module" src="sidebar.js"></script>
</body>
</html>


